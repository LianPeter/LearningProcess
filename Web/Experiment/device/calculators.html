<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多功能计算器</title>
    <link rel="stylesheet" href="css/calculators.css">
</head>
<body>

    <div class="tool_main">
        <div class="tool_title">
            <span>多功能计算器</span>
        </div>

        <div class="tool_help" id="help_section">
            为了能够进行更加复杂的计算，例如循环、判断乃至递归，本计算器将待计算的内容视为JS脚本处理，使用JS语法执行用户输入的脚本，可以灵活执行所有JS语句，例如四则运算、Math库函数。
        </div>

        <div class="tool_res_title">
            处理脚本：
            <input type="button" onclick="clearInput();" value="清空">
            <input type="button" onclick="calculate();" value="计算">
        </div>
        <textarea name="cal_input" id="cal_input"  placeholder="请输入计算脚本..."></textarea>

        <div class="tool_res_title">
            处理结果：
        </div>
        <textarea name="cal_res" id="cal_res" placeholder="计算结果将在这里显示..." readonly></textarea>
    </div>

    <script>
        // 清空输入框
        function clearInput() {
            document.getElementById('cal_input').value = '';
        }

        // 执行计算
        function calculate() {
            const input = document.getElementById('cal_input').value;
            const output = document.getElementById('cal_res');
            try {
                const result = eval(input); // 注意：eval具有安全风险，需确保输入为可信内容
                output.value = `计算成功:\n${result}`;
            } catch (error) {
                output.value = `计算失败:\n${error.message}`;
            }
        }
    </script>

</body>
</html>
